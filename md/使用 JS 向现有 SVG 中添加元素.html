<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>如何使用 JavaScript 向现有 SVG 中添加元素？</title>
    <link rel="shortcut icon" href="code.svg" type="image/x-icon" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.34.1/min/vs/editor/editor.main.css"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../css/prism.css" />
    <link rel="stylesheet" href="../css/edit.css" />
  </head>
  <body>
    <div class="wrapper">
      <div class="wrapper__main">
        <div class="wrapper__main_layout">
          <div class="wrapper__main_layout-content">
            <div class="wrapper-left">
              <ul>
                <li class=""><a title="5 种 JS 模式" href="/md/5 种 JS 模式.html">01 5 种 JS 模式</a></li><li class=""><a title="7 种位运算符的神奇用法" href="/md/7 种位运算符的神奇用法.html">02 7 种位运算符的神奇用法</a></li><li class=""><a title="JS 单行代码集" href="/md/JS 单行代码集.html">03 JS 单行代码集</a></li><li class="active"><a title="使用 JS 向现有 SVG 中添加元素" href="/md/使用 JS 向现有 SVG 中添加元素.html">04 使用 JS 向现有 SVG 中添加元素</a></li><li class=""><a title="实现鼠标滚轮缩放 SVG 内容" href="/md/实现鼠标滚轮缩放 SVG 内容.html">05 实现鼠标滚轮缩放 SVG 内容</a></li><li class=""><a title="速通 JS 性能优化" href="/md/速通 JS 性能优化.html">06 速通 JS 性能优化</a></li><li class=""><a title="高效检查 JS 对象中的键是否存在" href="/md/高效检查 JS 对象中的键是否存在.html">07 高效检查 JS 对象中的键是否存在</a></li>
              </ul>
            </div>
            <div class="wrapper-content md">
              <h1>如何使用 JavaScript 向现有 SVG 中添加元素？</h1>
              <h3>动态向 SVG 中添加元素的实际应用场景</h3>
<p>假设我们正在开发一个数据可视化的应用程序，其中的图表是用 SVG 绘制的。现在我们需要根据用户的操作动态地在现有的 SVG 图表中添加新的数据点或者线段。在这种情况下，我们就需要通过 JavaScript 来操作 SVG。</p>
<h3>具体操作步骤</h3>
<ol>
<li><p>选择 SVG 元素：首先，我们需要通过 JavaScript 找到页面上已经存在的 SVG 元素。</p>
</li>
<li><p>创建新元素并指定命名空间：SVG 元素与普通的 HTML 元素不同，它们有特定的命名空间。因此，在创建新的 SVG 元素时，我们必须指定这个命名空间。</p>
</li>
<li><p>设置属性：新创建的 SVG 元素需要设置一些属性，比如路径、颜色、线宽等。</p>
</li>
<li><p>将新元素添加到 SVG 中：最后一步就是将新创建的 SVG 元素添加到我们选中的 SVG 元素中，使其显示在页面上。</p>
</li>
</ol>
<h3>代码示例</h3>
<p>假设我们有以下的 HTML 结构：</p>
<pre><code class="language-html">&lt;svg width=&quot;100&quot; height=&quot;100&quot;&gt;&lt;/svg&gt;
</code></pre>
<p>我们希望在这个空的 SVG 中动态添加一条直线。可以使用以下 JavaScript 代码实现：</p>
<pre><code class="language-js">// 选择SVG元素
const svg = document.querySelector(&quot;svg&quot;);

// 创建一个新的line元素，并指定命名空间
const newLine = document.createElementNS(&quot;http://www.w3.org/2000/svg&quot;, &quot;line&quot;);

// 设置line元素的属性，起点为(10,10)，终点为(90,90)
newLine.setAttribute(&quot;x1&quot;, &quot;10&quot;);
newLine.setAttribute(&quot;y1&quot;, &quot;10&quot;);
newLine.setAttribute(&quot;x2&quot;, &quot;90&quot;);
newLine.setAttribute(&quot;y2&quot;, &quot;90&quot;);

// 设置线条的颜色和宽度
newLine.style.stroke = &quot;blue&quot;;
newLine.style.strokeWidth = &quot;2px&quot;;

// 将新创建的line元素添加到SVG中
svg.appendChild(newLine);
</code></pre>
<p>这段代码会在页面上显示一条从 <code>(10,10)</code> 到 <code>(90,90)</code> 的蓝色线条。我们通过 <code>document.querySelector</code> 选择了 SVG 元素，然后使用 <code>document.createElementNS</code> 创建了一个新的 line 元素，并通过设置属性来定义这条线的位置和样式，最后通过 appendChild 将其添加到 SVG 中。</p>

            </div>
            <div class="wrapper-right">
              <ul>
                <li>
                  <svg t="1724940373953" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7489" width="200" height="200"><path d="M156.862 567.733C117.449 544.533 91 501.673 91 452.633c0-39.369 17.383-76.73 47.5-102.09L401.002 129.51c64.147-54.013 157.866-54.013 222.013 0l262.501 221.033c56.388 47.48 63.606 131.679 16.121 188.062a133.416 133.416 0 0 1-34.489 29.108 36.31 36.31 0 0 1 1.755 11.187c0 241.345-115.528 356.862-356.894 356.862-241.366 0-356.895-115.517-356.895-356.862 0-3.896 0.614-7.648 1.749-11.167z m70.973 18.368c1.975 195.986 85.367 276.983 284.173 276.983 198.805 0 282.198-80.997 284.173-276.983H227.835z m348.36-400.998c-37.091-31.233-91.283-31.233-128.375 0l-262.5 221.033a60.787 60.787 0 0 0-21.635 46.498c0 33.573 27.219 60.789 60.794 60.789h575.057a60.797 60.797 0 0 0 46.502-21.633c21.628-25.68 18.34-64.029-7.342-85.654l-262.5-221.033z" fill="currentColor" p-id="7490"></path></svg>
                </li>
                <li>
                  <svg t="1724941383990" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="24071" width="200" height="200"><path d="M929.797838 239.123886L545.204894 21.893337c-9.973631-5.959853-19.947262-8.027557-31.866968-8.027557s-21.893337 1.946074-31.866967 8.027557L96.878014 239.123886c-19.947262 11.919705-31.866968 31.866968-31.866968 55.828009v434.461099c0 21.893337 11.919705 43.786673 31.866968 55.828008l382.64687 217.23055c9.973631 5.959853 21.893337 8.027557 31.866968 8.027557 11.919705 0 21.893337-1.946074 31.866967-8.027557l382.646871-217.23055c19.947262-11.919705 31.866968-31.866968 31.866967-55.828008V294.830265c4.013778-21.893337-8.027557-43.786673-27.974819-55.706379zM901.944649 731.237439L523.311557 950.535693c-1.946074 1.946074-8.027557 5.959853-9.973631 5.959853-1.946074 0-8.027557-4.013778-9.973631-5.959853L124.731203 731.237439V292.884191L503.364295 73.707566c1.946074 0 8.027557-5.959853 9.973631-5.959852 1.946074 0 8.027557 4.013778 9.973631 5.959852L901.944649 292.884191v438.353248zM326.028269 376.565388c-13.987409-7.905927-31.866968-4.013778-39.894524 9.973631-8.027557 11.919705-4.013778 29.920893 9.973631 35.880746l185.363583 109.588312v199.229362s13.987409 19.947262 29.920893 19.947262c15.933484 0 29.920893-19.947262 29.920893-19.947262V532.008077l185.363582-109.588312c13.987409-8.027557 17.879558-23.961041 9.973631-35.880746-8.027557-11.919705-25.907115-17.879558-39.894524-9.973631l-187.309657 99.614681-183.417508-99.614681z m0 0" p-id="24072" fill="currentColor"></path></svg>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.34.1/min/vs/loader.js"></script>
    <script src="../js/prism.min.js"></script>
    <script src="../js/edit.js"></script>
  </body>
</html>
